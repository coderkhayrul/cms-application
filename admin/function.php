<?php    // USER ONLINE FUNCTION    function users_online(){        global $connection;        $session = session_id();        $time = time();        $time_out_in_seconds = 5;        $time_out = $time - $time_out_in_seconds;        $query = "SELECT * FROM users_online WHERE session  = '$session'";        $sent_query = mysqli_query($connection, $query);        $count = mysqli_num_rows($sent_query);        if ($count === NULL) {            mysqli_query($connection, "INSERT INTO users_online(session, time ) VALUES ('$session','$time')");        } else {            mysqli_query($connection, "UPDATE users_online SET time = '$time' WHERE session = '$session'");        }        $user_online_query = mysqli_query($connection, "SELECT * FROM users_online WHERE time > '$time_out'");        return mysqli_num_rows($user_online_query);    }    //POST CONFIRM_QUERY    function confirmQuery($respond){        global $connection;        if (!$respond){            die('QUERY FAILED'.mysqli_error($connection));        }    }    //VIEW OR FETCH CATEGORY FUNCTION    function find_all_category(){        global $connection;        $query = "SELECT * FROM categories";        $select_categories = mysqli_query($connection, $query);        foreach ($select_categories as $category){            ?>            <tr>                <th class="text-center" width="8%" scope="row"><?php echo $category['cat_id']; ?></th>                <td width="60%"><?php echo $category['cat_title']; ?></td>                <td class="text-center" width="25%">                    <a class="btn btn-success btn-sm" href="">View</a>                    <a class="btn btn-primary btn-sm" href="categories.php?edit=<?php echo $category['cat_id']; ?>">Edit</a>                    <a class="btn btn-danger btn-sm" href="categories.php?delete=<?php echo $category['cat_id']; ?>">Delete</a>                </td>            </tr>        <?php }    }    //INSERT CATEGORY FUNCTION    function insert_categories(){        global $connection;        if (isset($_POST['submit'])){            $cat_title = $_POST['cat_title'];            if ($cat_title === "" || empty($_POST['cat_title'])){                echo "<span style='color: red'>This Field Should Not be Empty</span>";            }else{                $query = "INSERT INTO categories(cat_title)VALUES ('$cat_title')";                $create_category_query = mysqli_query($connection,$query);                if (!$create_category_query){                    die('QUERY FAILED'.mysqli_error($connection));                }            }        }    }    //UPDATE CATEGORY FUNCTION    function update_category(){        global $connection;        if (isset($_POST['editSubmit'])){            $cat_title = $_POST['cat_title'];            $cat_id = $_POST['cat_id'];            if ($cat_title === "" || empty($_POST['cat_title'])){                echo "<span style='color: red'>This Field Should Not be Empty</span>";            }else{                $query = "UPDATE categories SET cat_title ='$cat_title' WHERE cat_id = '$cat_id'";                $update_category_query = mysqli_query($connection,$query);                if (!$update_category_query){                    die('QUERY FAILED'.mysqli_error($connection));                }            }        }    }    //DELETE CATEGORY FUNCTION    function delete_category(){        global $connection;        if (isset($_GET['delete'])){            $delete_cat_id = $_GET['delete'];            $query = mysqli_query($connection, "DELETE FROM categories WHERE cat_id = $delete_cat_id");            header("Location: categories.php");        }    }